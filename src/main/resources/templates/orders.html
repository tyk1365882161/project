<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head('我的订单历史')}"></head>
<body>

    <nav th:replace="~{layout :: navbar}"></nav>

    <div class="container min-vh-100">
        <h2 class="mb-4"><i class="bi bi-clock-history"></i> 我的订单历史</h2>

        <div th:if="${orders.isEmpty()}" class="alert alert-info text-center">
            您还没有买过东西，<a href="/" class="alert-link">快去购物吧！</a>
        </div>

        <div th:each="order : ${orders}" class="card mb-4 shadow-sm">
            <div class="card-header bg-white d-flex justify-content-between align-items-center">
                <div>
                    <span class="fw-bold me-3">订单号: <span th:text="${order.id}">#1001</span></span>
                    <span class="text-muted" th:text="${#dates.format(order.createTime, 'yyyy-MM-dd HH:mm:ss')}">2023-10-10</span>
                </div>
                <div>
                    <span class="badge bg-success" th:text="${order.status}">已支付</span>
                    <span class="fw-bold fs-5 ms-3 text-danger">总计: ￥<span th:text="${order.totalPrice}">100.0</span></span>
                </div>
            </div>
            <div class="card-body p-0">
                <table class="table table-borderless mb-0">
                    <thead class="table-light">
                        <tr>
                            <th scope="col" style="width: 50%">商品名称</th>
                            <th scope="col" class="text-center">单价</th>
                            <th scope="col" class="text-center">数量</th>
                            <th scope="col" class="text-end">小计</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="item : ${order.items}">
                            <td class="align-middle">
                                <span class="fw-bold" th:text="${item.productName}">iPhone 15</span>
                            </td>
                            <td class="text-center align-middle">￥<span th:text="${item.price}">9999</span></td>
                            <td class="text-center align-middle">x <span th:text="${item.quantity}">1</span></td>
                            <td class="text-end align-middle">￥<span th:text="${item.price * item.quantity}">9999</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer th:replace="~{layout :: footer}"></footer>
</body>
</html>